import{_ as ae}from"./SharedPrice.vue.3589e6fd.js";import se from"./AccountOrderSummary.0a70592c.js";import{_ as de}from"./AccountOrderDetails.vue.28db647b.js";import{_ as te}from"./client-only.be4f7e4b.js";import{a as re,l as oe,m as le,a7 as ie,ao as ne,b0 as ce,q as ue,b1 as ge,r as me,o as t,c as p,W as _,v as e,y as s,u as a,j as n,M as ye,k as r,x as v,A as be,an as pe,aN as _e,aO as ve}from"./entry.4f4ac261.js";import{_ as fe}from"./_plugin-vue_export-helper.c27b6911.js";import"./AccountOrderLineItem.vue.07ca3c7c.js";const o=y=>(_e("data-v-a5edfe17"),y=y(),ve(),y),he={class:"max-w-2xl mx-auto py-4 px-4 sm:py-4 sm:px-6 lg:max-w-5xl lg:px-8"},xe={class:"space-y-1"},we={class:"text-gray-800"},ke={key:0,class:"mt-8 p-4 mb-8 mb-4 text-sm text-blue-700 bg-blue-100 rounded-lg dark:bg-blue-200 dark:text-blue-800",role:"alert"},Se={class:"text-center w-full"},Ne=o(()=>e("span",{class:"font-medium"},"Finish payment process.",-1)),Te={key:0},Ce={class:"pt-8"},De={class:"col-span-2"},Ae={key:0},Pe=["aria-expanded"],je={class:"border-t border-gray-200 flex"},Ie=o(()=>e("div",{class:"md:w-36"},null,-1)),Oe={class:"flex-1 flex-col ml-4"},$e={class:"md:flex md:flex-wrap py-6 md:py-10"},Ee={class:"w-auto md:w-1/2"},Le=o(()=>e("div",{class:"font-medium"},"Shipping address",-1)),Me={class:"pt-2 text-gray-600"},Re={class:"w-auto md:w-1/2"},Ue=o(()=>e("div",{class:"font-medium"},"Billing address",-1)),Ve={class:"pt-2 text-gray-600"},Be={class:"md:flex md:flex-wrap border-t border-gray-100 md:flex py-6 md:py-10"},Ye={class:"w-auto md:w-1/2"},ze=o(()=>e("div",{class:"font-medium"},"Payment method",-1)),Fe={class:"pt-2 text-gray-600"},Ge={class:"w-auto md:w-1/2"},qe=o(()=>e("div",{class:"font-medium"},"Shipping method",-1)),He={class:"pt-2 text-gray-600"},We={key:0},Je={class:"border-t border-gray-100 py-6 md:py-10 space-y-4"},Ke={key:0,class:"flex justify-between text-base font-medium"},Qe=o(()=>e("p",null,"Subtotal",-1)),Xe={key:1,class:"flex justify-between text-base font-medium"},Ze=o(()=>e("p",null,"Shipping",-1)),ea={key:2,class:"flex justify-between text-base font-medium"},aa=o(()=>e("p",null,"Total",-1)),sa=o(()=>e("div",{role:"status",class:"animate-pulse max-w-2xl mx-auto py-4 px-4 sm:py-4 sm:px-6 lg:max-w-5xl lg:px-8"},[e("div",{class:"space-y-1"},[e("div",{class:"text-gray-400"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-1/2"})])]),e("div",null,[e("div",{class:"pt-8"},[e("div",null,[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 px-2 py-6"}),e("div",{class:"px-2 py-4"},[e("div",{class:"grid grid-cols-5 gap-y-10 pb-4 text-gray-400"},[e("div",{class:"col-span-2 h-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/2"}),e("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/2"}),e("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/4"}),e("div",{class:"h-4 bg-gray-200 rounded-full dark:bg-gray-700 w-full"})]),e("div",{class:"grid grid-cols-5 gap-y-10 gap-x-6 py-4 border-t border-gray-200 text-gray-400 items-center"},[e("div",{class:"flex items-center col-span-2 text-gray-900"},[e("div",{class:"i-carbon-image bg-gray-200 h-18 w-18 mr-2"}),e("div",{class:"h-4 ml-4 bg-gray-200 rounded-full dark:bg-gray-700 w-full"})]),e("div",{class:"h-4 ml-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/4"}),e("div",null,[e("div",{class:"flex gap-1 text-gray-600 font-normal","data-testid":"order-item-unitprice"},[e("div",{class:"h-4 ml-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/4"})])]),e("div",{class:"h-4 ml-4 bg-gray-200 rounded-full dark:bg-gray-700 w-1/2"})])])])]),e("div",{class:"border-t border-gray-200 flex"},[e("div",{class:"md:w-36"}),e("div",{class:"flex-1 flex-col ml-4"},[e("div",{class:"md:flex md:flex-wrap py-6 md:py-10"},[e("div",{class:"w-auto md:w-1/2 w-1/2 pr-4"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-32"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-8"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-48"})]),e("div",{class:"w-auto md:w-1/2"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-32"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-8"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-48"})])]),e("div",{class:"md:flex md:flex-wrap border-t border-gray-100 md:flex py-6 md:py-10"},[e("div",{class:"w-auto md:w-1/2"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-32"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-8"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-48"})]),e("div",{class:"w-auto md:w-1/2"},[e("div",{class:"h-2.5 bg-gray-200 rounded-full dark:bg-gray-700 w-48 mb-4"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-32"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-8"}),e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 w-48"})])]),e("div",{class:"border-t border-gray-100 py-6 md:py-10 space-y-4"},[e("div",{class:"flex justify-between text-base font-medium"},[e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-12"}),e("div",{class:"flex gap-1 text-gray-600 font-normal","data-testid":"order-subtotal"},[e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-16"})])]),e("div",{class:"flex justify-between text-base font-medium"},[e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-12"}),e("div",{class:"flex gap-1 text-gray-600 font-normal","data-testid":"order-total"},[e("div",{class:"h-2 bg-gray-200 rounded-full dark:bg-gray-700 mb-2.5 w-20"})])])])])])])],-1)),da={name:"CheckoutSuccessPage"},ta=re({...da,setup(y){const{params:B}=oe(),Y=le(),f=B.id,{isLoggedIn:z,isGuestSession:F}=ie();!z.value&&!F.value&&Y.push("/");const{loadOrderDetails:G,shippingAddress:g,billingAddress:c,shippingMethod:h,order:l,subtotal:k,total:S,shippingCosts:N}=ne(f),{paymentUrl:x,handlePayment:q,isAsynchronous:H,state:T,paymentMethod:W}=ce(l);ue(async()=>{var i,b;const d=`${(i=window==null?void 0:window.location)==null?void 0:i.origin}/checkout/success/${f}/paid`,u=`${(b=window==null?void 0:window.location)==null?void 0:b.origin}/checkout/success/${f}/unpaid`;await G(),q(d,u)});const J=d=>{typeof window!==void 0&&d&&(window.location.href=d)};ge(x,d=>{if(typeof d=="string")try{new URL(d),window.location.href=d}catch(u){console.error("err, redirect",u)}},{debounce:5e3});const m=me(!0),K=()=>m.value=!m.value,Q={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0},X=d=>new Date(d).toLocaleDateString("en-us",Q);return(d,u)=>{const i=ae,b=se,Z=de,ee=te;return t(),p(ee,null,{placeholder:_(()=>[sa]),default:_(()=>{var C,D,A,P,j,I,O,$,E,L,M,R;return[e("div",he,[e("div",xe,[e("div",we," Your order #"+s((C=a(l))==null?void 0:C.orderNumber)+" has shipped and will be with you soon ",1),a(H)&&a(x)&&((D=a(T))==null?void 0:D.technicalName)==="open"?(t(),n("div",ke,[e("div",Se,[Ne,ye(" You will be redirected to the payment gateway in 5 seconds. "),e("div",null,[e("button",{class:"mt-4 rounded-md border border-transparent px-2 py-1 text-base font-small text-white shadow-sm bg-brand-primary hover:bg-brand-dark",onClick:u[0]||(u[0]=w=>J(a(x)))}," Go to payment ")])])])):r("",!0)]),a(c)?(t(),n("div",Te,[e("div",Ce,[e("div",null,[v(b,null,{default:_(()=>{var w,U,V;return[e("div",De,s((w=a(l))==null?void 0:w.orderNumber),1),e("div",null,[(U=a(l))!=null&&U.amountTotal?(t(),p(i,{key:0,value:a(l).amountTotal,class:"text-gray-600 font-normal","data-testid":"order-subtotal"},null,8,["value"])):r("",!0)]),(V=a(l))!=null&&V.orderDate?(t(),n("div",Ae,s(X(a(l).orderDate)),1)):r("",!0),e("div",null,s(a(be)(a(T),"name")),1),e("button",{class:"justify-self-end text-gray-600 px-3 text-xs font-medium text-center hover:text-white bg-gray-300 rounded-lg hover:bg-gray-400 focus:ring-4 focus:outline-none focus:ring-gray-300 dark:bg-gray-600 dark:hover:bg-gray-300 dark:focus:ring-gray-400","aria-expanded":a(m),onClick:K},s(a(m)?"Hide items":"View items"),9,Pe)]}),_:1}),(A=a(l))!=null&&A.id?(t(),p(pe,{key:0},{default:_(()=>[a(m)?(t(),p(Z,{key:0,"order-id":a(l).id},null,8,["order-id"])):r("",!0)]),_:1})):r("",!0)])]),e("div",je,[Ie,e("div",Oe,[e("div",$e,[e("div",Ee,[Le,e("div",Me,[e("div",null,s((P=a(g))==null?void 0:P.firstName)+" "+s((j=a(g))==null?void 0:j.lastName),1),e("div",null,s((I=a(g))==null?void 0:I.street),1),e("div",null,s((O=a(g))==null?void 0:O.city)+", "+s(($=a(g))==null?void 0:$.zipcode),1)])]),e("div",Re,[Ue,e("div",Ve,[e("div",null,s(a(c).firstName)+" "+s(a(c).lastName),1),e("div",null,s(a(c).street),1),e("div",null,s(a(c).city)+", "+s(a(c).zipcode),1)])])]),e("div",Be,[e("div",Ye,[ze,e("div",Fe,[e("div",null,s((E=a(W))==null?void 0:E.name),1)])]),e("div",Ge,[qe,e("div",He,[e("div",null,s((L=a(h))==null?void 0:L.name),1),(M=a(h))!=null&&M.deliveryTime?(t(),n("div",We," Takes up to "+s((R=a(h).deliveryTime)==null?void 0:R.name),1)):r("",!0)])])]),e("div",Je,[a(k)?(t(),n("div",Ke,[Qe,v(i,{value:a(k),class:"text-gray-600 font-normal","data-testid":"order-subtotal"},null,8,["value"])])):r("",!0),a(N)?(t(),n("div",Xe,[Ze,v(i,{value:a(N),class:"text-gray-600 font-normal","data-testid":"order-shipping"},null,8,["value"])])):r("",!0),a(S)?(t(),n("div",ea,[aa,v(i,{value:a(S),class:"text-gray-600 font-normal","data-testid":"order-total"},null,8,["value"])])):r("",!0)])])])])):r("",!0)])]}),_:1})}}});const ga=fe(ta,[["__scopeId","data-v-a5edfe17"]]);export{ga as default};
