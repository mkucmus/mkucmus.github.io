import{_ as I}from"./AccountAddressCard.vue.5ce67693.js";import{a as M,r as P,aV as V,aW as Y,a7 as E,aX as O,P as R,h as U,w as T,af as W,o as b,j as X,v as e,y as i,u as t,R as q,aY as z,T as F,c as S,k as $}from"./entry.4f4ac261.js";const G=e("div",{class:"container mx-auto my-6"},[e("h1",{class:"text-2xl mb-10"},"Account Overview")],-1),H={class:"flex gap-10 mb-10"},J={class:"w-1/2 flex flex-col"},K=e("h3",{class:"border-b pb-3 font-bold mb-3"},"Your profile",-1),L={class:"mt-5"},Q={class:"w-1/2 flex flex-col"},Z=e("h3",{class:"border-b pb-3 font-bold mb-3"},"Payment Method",-1),ee={class:"font-medium"},te={class:"mt-5"},se={class:"mb-10"},oe=e("h3",{class:"border-b pb-3 font-bold mb-5"},"Newsletter setting",-1),ae={class:"flex"},ne=e("label",{for:"newsletter-checkbox",class:"pl-5 text-base mt--1"}," Yes, I would like to subscribe to the free Demostore newsletter. (I may unsubscribe at any time.) ",-1),re={class:"flex gap-10 mb-10"},ie={class:"w-1/2 flex flex-col"},le=e("h3",{class:"border-b pb-3 font-bold mb-3"},"Default billing address",-1),de={class:"mt-5"},ce={class:"w-1/2 flex flex-col"},ue=e("h3",{class:"border-b pb-3 font-bold mb-3"},"Default shipping address",-1),be={class:"mt-5"},me={name:"AccountPage"},ge=M({...me,async setup(fe){let l,m;const n=P(!1),{getCountries:f}=V(),{getSalutations:p}=Y(),{user:a,loadSalutation:A,userDefaultPaymentMethod:h,userDefaultBillingAddress:c,userDefaultShippingAddress:u}=E(),{isNewsletterSubscriber:D,newsletterSubscribe:g}=O(),{pushSuccess:_,pushError:B}=R();U([{name:"Account Overview",path:"/account"}]),n.value=([l,m]=T(()=>D()),l=await l,m(),l);const j=async()=>{var o,s;try{n.value?(await g({email:((s=a.value)==null?void 0:s.email)||"",option:"unsubscribe"}),_("Newsletter unsubscribe")):(await g({email:((o=a.value)==null?void 0:o.email)||"",option:"subscribe"}),_("Newsletter subscribed"))}catch(d){n.value=!n.value,console.log("error",d),B("Something goes wrong please try again later")}};return W(async()=>{var o;(o=a==null?void 0:a.value)!=null&&o.salutationId&&await A(a.value.salutationId)}),(o,s)=>{var y,v,w,x,k,C,N;const d=I;return b(),X("section",null,[G,e("section",H,[e("div",J,[K,e("p",null,i((y=t(a))==null?void 0:y.firstName)+" "+i((v=t(a))==null?void 0:v.lastName),1),e("p",null,i((w=t(a))==null?void 0:w.email),1),e("div",L,[e("button",{class:"justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-primary mt-auto","data-testid":"my-account-change-profile-button",onClick:s[0]||(s[0]=r=>o.$router.push("/account/profile"))}," Change ")])]),e("div",Q,[Z,e("p",ee,i((x=t(h))==null?void 0:x.name),1),e("p",null,i((k=t(h))==null?void 0:k.description),1),e("div",te,[e("button",{class:"justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-primary mt-auto","data-testid":"my-account-change-payment-method-button",onClick:s[1]||(s[1]=r=>o.$router.push("/account/payment"))}," Change ")])])]),e("section",se,[oe,e("div",ae,[q(e("input",{id:"newsletter-checkbox","onUpdate:modelValue":s[2]||(s[2]=r=>F(n)?n.value=r:null),name:"newsletter-checkbox",type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500",onClick:j},null,512),[[z,t(n)]]),ne])]),e("section",re,[e("div",ie,[le,(C=t(c))!=null&&C.id?(b(),S(d,{key:t(c).id,address:t(c),countries:t(f),salutations:t(p),"can-set-default":!1,"can-edit":!1},null,8,["address","countries","salutations"])):$("",!0),e("div",de,[e("button",{class:"justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-primary mt-auto","data-testid":"my-account-change-default-billing-address-button",onClick:s[3]||(s[3]=r=>o.$router.push("/account/address"))}," Change ")])]),e("div",ce,[ue,(N=t(u))!=null&&N.id?(b(),S(d,{key:t(u).id,address:t(u),countries:t(f),salutations:t(p),"can-set-default":!1,"can-edit":!1},null,8,["address","countries","salutations"])):$("",!0),e("div",be,[e("button",{class:"justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-primary mt-auto","data-testid":"my-account-change-default-shipping-address-button",onClick:s[4]||(s[4]=r=>o.$router.push("/account/address"))}," Change ")])])])])}}});export{ge as default};
