import{_ as $}from"./ProductSuggestSearch.vue.91f3be6a.js";import{a as B,aD as D,r as i,I as g,t as L,aA as P,aE as R,m as z,aa as I,o as t,j as r,v as c,R as O,S as j,u as e,T as q,F as E,z as U,c as m,W as v,x as A,aF as G,ax as _,M as k,k as d,y as K,L as x,aG as Q,au as W}from"./entry.4f4ac261.js";const H={class:"flex items-center"},J=c("div",{class:"sw-search-input i-carbon-search flex-none h-6 w-6 text-gray-400 group-hover:text-brand-primary cursor-pointer"},null,-1),X={key:0,class:"absolute border-gray-100 border-t-1 duration-300 left-0 mt-2 overflow-hidden right-0 rounded-b-md shadow-md transition-height w-auto z-1"},Y={key:0,class:"w-80 h-40 bg-brand-light blur-2xl fixed animate-spin"},Z={key:1},ee={key:0},te={key:1},se={key:2},ae={key:1},le=B({__name:"LayoutStoreSearch",props:{displayTotal:{default:10}},setup(w){const{searchTerm:S,search:b,getProducts:C,getTotal:u,loading:f}=D(),o=i(!1),y=i(null),h=i();g(o,a=>{const{focused:s}=Q(h);s.value=a});const n=i("");g(n,a=>{a.length>=3&&T(a)});const T=W(a=>{S.value=a,b()},300),F=L(()=>n.value.length>=3&&o.value);P(y,()=>{o.value=!1});const{enter:M}=R({target:h}),{push:N}=z(),p=I("isSideMenuOpened",i(!1));return g(M,a=>{a&&(p.value=!1,o.value=!1,N("/search?query="+n.value))}),(a,s)=>{const V=$;return t(),r("div",{ref_key:"searchContainer",ref:y,class:x(["relative group p-3 rounded-lg transition duration-300 hover:shadow-md",[e(o)?"shadow-md":"shadow-sm"]])},[c("div",H,[J,O(c("input",{ref_key:"searchInput",ref:h,"onUpdate:modelValue":s[0]||(s[0]=l=>q(n)?n.value=l:null),"data-testid":"layout-search-input",type:"text",class:"sw-search-input text-gray-400 placeholder:text-gray-400 focus:text-gray-700 p-2 ml-2 grow h-6 transition duration-200 focus:outline-none",placeholder:"Search products",onClick:s[1]||(s[1]=l=>o.value=!0)},null,512),[[j,e(n)]])]),e(F)?(t(),r("div",X,[(t(!0),r(E,null,U(e(C).slice(0,w.displayTotal),l=>(t(),m(e(_),{key:l.id,to:e(G)(l),"data-testid":"layout-search-suggest-link",onClick:s[2]||(s[2]=re=>[o.value=!1,p.value=!1])},{default:v(()=>[A(V,{product:l},null,8,["product"])]),_:2},1032,["to"]))),128)),c("div",{class:x(["h-11 text-sm rounded-b-md p-3 text-center transition",[e(f)?["bg-brand-primary"]:["bg-gray-100"]]]),style:{"clip-path":"inset(0% 0% 0% 0%)"}},[e(f)?(t(),r("div",Y)):(t(),r("div",Z,[e(u)>0?(t(),m(e(_),{key:0,to:`/search?query=${e(n)}`,onClick:s[3]||(s[3]=l=>[o.value=!1,p.value=!1])},{default:v(()=>[k(" See "),e(u)!==1?(t(),r("span",ee,"all")):d("",!0),k(" "+K(e(u))+" ",1),e(u)!==1?(t(),r("span",te,"results")):d("",!0),e(u)==1?(t(),r("span",se,"result")):d("",!0)]),_:1},8,["to"])):(t(),r("div",ae,"No results :("))]))],2)])):d("",!0)],2)}}});export{le as _};
