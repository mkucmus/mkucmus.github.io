import{a as B,P as D,a6 as w,a7 as $,a8 as E,t as N,o as t,j as d,v as a,y as o,a9 as k,k as l,u as i,aa as j}from"./entry.4f4ac261.js";const I={class:"col-span-6 lg:col-span-3 max-w-md"},V={class:"flex items-center mb-2"},z={class:"text-xl leading-none text-gray-900 mr-2"},F={class:"flow-root"},M={class:"block"},P={class:"block"},U={class:"block"},q={key:0},J=B({__name:"AccountAddressCard",props:{address:null,countries:null,salutations:null,canSetDefault:{type:Boolean,default:!0},canEdit:{type:Boolean,default:!0},canDelete:{type:Boolean,default:!1}},setup(e){const n=e,{pushSuccess:c,pushError:u}=D(),{setDefaultCustomerShippingAddress:x,setDefaultCustomerBillingAddress:v,deleteCustomerAddress:h,loadCustomerAddresses:G}=w(),{defaultBillingAddressId:f,defaultShippingAddressId:y}=$(),{refreshSessionContext:b}=E(),g=j("modal"),A=N(()=>n.canDelete&&y.value!==n.address.id&&f.value!==n.address.id),S=async()=>{try{await x(n.address.id),b(),c("Set default shipping address successfully")}catch{u("Set default shipping address error")}},p=async()=>{try{await v(n.address.id),b(),c("Set default billing address successfully")}catch{u("Set default billing address error")}},C=async r=>{try{await h(r),c("Address deleted")}catch{u("Address deleted error")}};return(r,s)=>(t(),d("div",I,[a("div",V,[a("h5",z,o(`${e.address.firstName} ${e.address.lastName}`),1),e.canEdit?(t(),d("div",{key:0,class:"cursor-pointer i-carbon-edit text-xl inline-block",onClick:s[0]||(s[0]=k(m=>i(g).open("AccountAddressForm",{address:e.address,salutations:e.salutations,countries:e.countries,title:"Edit address"}),["prevent"]))})):l("",!0),i(A)?(t(),d("div",{key:1,class:"i-carbon-delete text-xl inline-block cursor-pointer ml-2",onClick:s[1]||(s[1]=k(m=>C(e.address.id),["prevent"]))})):l("",!0)]),a("div",F,[a("span",M,o(e.address.street),1),a("span",P,o(e.address.zipcode),1),a("span",U,o(e.address.city),1)]),e.canSetDefault?(t(),d("div",q,[i(y)!==e.address.id?(t(),d("a",{key:0,role:"button",tabindex:"0",class:"block text-sm mt-4 font-medium text-blue-600 hover:underline",onClick:s[2]||(s[2]=m=>S())}," Set as default shipping address ")):l("",!0),i(f)!==e.address.id?(t(),d("a",{key:1,role:"button",tabindex:"0",class:"block text-sm mt-2 font-medium text-blue-600 hover:underline",onClick:s[3]||(s[3]=m=>p())}," Set as default billing address ")):l("",!0)])):l("",!0)]))}});export{J as _};
