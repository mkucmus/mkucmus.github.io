import{a as w,a7 as h,ak as k,P as S,r as g,o as a,j as d,u as o,v as e,R as u,S as c,X as m,a9 as V,M as f,y as $,k as j,x as C,W as N,al as E}from"./entry.4f4ac261.js";import{_ as L}from"./logo.af860a78.js";const P={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},U={key:0,class:"max-w-md w-full space-y-8"},B=e("div",null,[e("img",{class:"mx-auto h-12 w-auto",src:L,alt:"Logo"}),e("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Sign in to your account ")],-1),D=["onSubmit"],M={class:"rounded-md shadow-sm -space-y-px"},W=e("label",{for:"email-address",class:"sr-only"},"Email address",-1),q=e("label",{for:"password",class:"sr-only"},"Password",-1),z={key:0,class:"flex items-center justify-between","data-testid":"login-errors-container"},T={class:"flex items-center"},A={class:"login-errors text-red-600 focus:ring-indigo-500 border-gray-300 rounded"},F=e("button",{class:"group relative w-full flex justify-center py-2 px-4 mb-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500",type:"submit","data-testid":"login-submit-button"},[e("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[e("div",{class:"w-5 h-5 i-carbon-locked"})]),f(" Sign in ")],-1),I={key:1},R=e("h2",null,"you are logged in",-1),H=w({__name:"AccountLoginForm",emits:["success","close"],setup(X,{emit:p}){const{isLoggedIn:y,login:b}=h(),{mergeWishlistProducts:x}=k(),{pushSuccess:_}=S(),i=g([]),t=g({username:"",password:"",remember:!0}),v=async()=>{i.value=[];try{await b(t.value),p("success"),_("You are logged in"),p("close"),x()}catch(n){const s=n;i.value=s.messages.map(({detail:l})=>l)}};return(n,s)=>{const l=E;return a(),d("div",P,[o(y)?(a(),d("div",I,[R,e("button",{onClick:s[4]||(s[4]=r=>n.$emit("close"))},"close")])):(a(),d("div",U,[B,e("form",{class:"mt-8 space-y-6",onSubmit:V(v,["prevent"])},[u(e("input",{"onUpdate:modelValue":s[0]||(s[0]=r=>o(t).remember=r),type:"hidden",name:"remember","data-testid":"login-remember-input"},null,512),[[c,o(t).remember]]),e("div",M,[e("div",null,[W,u(e("input",{id:"email-address","onUpdate:modelValue":s[1]||(s[1]=r=>o(t).username=r),name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address","data-testid":"login-email-input"},null,512),[[c,o(t).username]])]),e("div",null,[q,u(e("input",{id:"password","onUpdate:modelValue":s[2]||(s[2]=r=>o(t).password=r),name:"password",type:"password",autocomplete:"current-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password","data-testid":"login-password-input"},null,512),[[c,o(t).password]])])]),m(n.$slots,"default",{data:o(t)}),m(n.$slots,"error",{},()=>[o(i).length?(a(),d("div",z,[e("div",T,[e("div",A,$(o(i)),1)])])):j("",!0)]),e("div",null,[F,m(n.$slots,"action",{},()=>[e("div",{onClick:s[3]||(s[3]=r=>n.$emit("close"))},[C(l,{to:"/register",class:"w-full flex justify-center py-2 px-4 border border-indigo-600 text-sm font-medium rounded-md text-indigo-600 focus:outline-none focus:ring-2 focus:ring-indigo-500","data-testid":"login-sign-up-link"},{default:N(()=>[f(" Sign up ")]),_:1})])])])],40,D)]))])}}});export{H as _};
