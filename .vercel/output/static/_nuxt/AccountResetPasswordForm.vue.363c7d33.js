import{a as x,p as g,ab as _,t as v,o as n,j as d,v as s,a9 as P,u as r,y as i,k as l,R as w,S as u,X as C,M as k,l as $,ar as R}from"./entry.4f4ac261.js";import{u as S,r as m,m as V,s as N}from"./index.esm.6601123d.js";const q={class:"min-h-full flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8"},j={class:"max-w-md w-full space-y-8"},B=s("div",null,[s("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Reset password ")],-1),F=["onSubmit"],M={key:0,class:"text-red-600 focus:ring-brand-primary border-gray-300 rounded"},z={class:"-space-y-px"},A=s("label",{for:"new-password",class:"sr-only"},"New Password",-1),D={key:0,class:"text-red-600 focus:ring-brand-primary border-gray-300 rounded"},L=s("label",{for:"confirm-password",class:"sr-only"},"Repeat Password",-1),T={key:0,class:"text-red-600 focus:ring-brand-primary border-gray-300 rounded"},U=s("button",{class:"group relative w-full flex justify-center py-2 px-4 mb-4 border border-transparent text-sm font-medium rounded-md text-white bg-brand-primary hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand-primary",type:"submit"},[s("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[s("div",{class:"w-5 h-5 i-carbon-locked"})]),k(" Set new password ")],-1),X=x({__name:"AccountResetPasswordForm",setup(E){const{apiInstance:f}=g(),e=_({password:{newPassword:"",newPasswordConfirm:""},error:""}),y=v(()=>({password:{newPassword:{required:m,minLength:V(8)},newPasswordConfirm:{required:m,newPasswordConfirm:N(e.password.newPassword)}}})),t=S(y,e),b=async()=>{var a;const o=((a=$().query.hash)==null?void 0:a.toString())||"";try{if(await t.value.$validate())await R({newPassword:e.password.newPasswordConfirm,hash:o},f);else return}catch(p){const h=p;e.error=h.messages[0].detail}};return(c,o)=>(n(),d("div",q,[s("div",j,[B,s("form",{class:"mt-8 space-y-6",onSubmit:P(b,["prevent"])},[r(e).error?(n(),d("div",M,i(r(e).error),1)):l("",!0),s("div",z,[s("div",null,[A,w(s("input",{id:"new-password","onUpdate:modelValue":o[0]||(o[0]=a=>r(e).password.newPassword=a),name:"new-password",type:"password",autocomplete:"new-password",required:"",class:"appearance-none rounded-none shadow-sm relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-brand-primary focus:border-brand-primary focus:z-10 sm:text-sm",placeholder:"New Password"},null,512),[[u,r(e).password.newPassword]]),r(t).password.newPassword.$error?(n(),d("span",D,i(r(t).password.newPassword.$errors[0].$message),1)):l("",!0)]),s("div",null,[L,w(s("input",{id:"confirm-password","onUpdate:modelValue":o[1]||(o[1]=a=>r(e).password.newPasswordConfirm=a),name:"confirm-password",type:"password",autocomplete:"repeat-password",required:"",class:"appearance-none rounded-none shadow-sm relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-brand-primary focus:border-brand-primary focus:z-10 sm:text-sm",placeholder:"Repeat Password"},null,512),[[u,r(e).password.newPasswordConfirm]]),r(t).password.newPasswordConfirm.$error?(n(),d("span",T,i(r(t).password.newPasswordConfirm.$errors[0].$message),1)):l("",!0)])]),s("div",null,[U,C(c.$slots,"action")])],40,F)])]))}});export{X as _};
