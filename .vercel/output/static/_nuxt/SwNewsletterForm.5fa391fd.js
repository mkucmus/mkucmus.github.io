import{a as E,r as f,aW as M,U as F,aX as L,t as h,ab as j,o as n,j as i,u as e,k as l,v as t,y as d,F as g,R as u,ac as k,z as $,S as y,L as c,aY as T,M as D,a9 as R}from"./entry.4f4ac261.js";import{r as p,u as q,e as A}from"./index.esm.6601123d.js";const O=["onSubmit"],P={key:0,class:"absolute inset-0 flex items-center justify-center z-10 bg-white/50"},W=t("div",{class:"h-15 w-15 i-carbon-progress-bar-round animate-spin c-gray-500"},null,-1),X=[W],Y={class:"pb-3 mb-10 border-b border-gray-300"},G={class:"grid grid-cols-12 gap-5"},H={class:"col-span-12"},J=t("label",{for:"option"},"Action *",-1),K=["value"],Q={class:"col-span-12"},Z=t("label",{for:"email-address"},"Email address *",-1),ee={key:0,class:"pt-1 text-sm text-red-600 focus:ring-brand-primary border-gray-300"},te={key:0,class:"col-span-4"},se=t("label",{for:"salutation"},"Salutation *",-1),oe=t("option",{disabled:"",selected:"",value:""},"Enter salutation...",-1),re=["value"],ae={key:0,class:"pt-1 text-sm text-red-600 focus:ring-brand-primary border-gray-300"},ne={key:1,class:"col-span-4"},ie=t("label",{for:"first-name"},"First name *",-1),le={key:0,class:"pt-1 text-sm text-red-600 focus:ring-brand-primary border-gray-300"},de={key:2,class:"col-span-4"},ue=t("label",{for:"last-name"},"Last name *",-1),ce={key:0,class:"pt-1 text-sm text-red-600 focus:ring-brand-primary border-gray-300"},me={class:"col-span-12"},pe=t("label",null,"Privacy *",-1),be={class:"flex gap-3 items-start"},fe=t("a",{class:"text-indigo-700"},"data protection information.",-1),ge={class:"flex justify-end mt-10"},ye=["disabled"],ve={key:2,class:"py-10 text-lg text-center"},he=E({__name:"SwNewsletterForm",props:{content:null},setup(w){const N=w,b=f(),v=f(!1),S=f([]),x=[{label:"Subscribe to newsletter",value:"subscribe"},{label:"Unsubscribe to newsletter",value:"unsubscribe"}],{getSalutations:V}=M(),{getConfigValue:U}=F(N.content),{newsletterSubscribe:I,newsletterUnsubscribe:z}=L(),_=h(()=>U("title")),r=j({option:x[0].value,salutationId:"",firstName:"",lastName:"",email:"",checkbox:!1}),B=h(()=>{let m={email:{required:p,email:A},checkbox:{required:p,isTrue:s=>s===!0}};return r.option==="subscribe"&&(m={...m,firstName:{required:p,minLength:3},lastName:{required:p,minLength:3},salutationId:{required:p}}),m}),a=q(B,r),C=async()=>{if(a.value.$touch(),await a.value.$validate()){b.value=!0;try{r.option==="subscribe"?await I({...r}):await z(r.email),v.value=!0}catch(s){S.value=s.messages}finally{b.value=!1}}};return(m,s)=>(n(),i("form",{class:"w-full relative",onSubmit:R(C,["prevent"])},[e(b)?(n(),i("div",P,X)):l("",!0),t("h3",Y,d(e(_)?e(_):e(r).option==="subscribe"?"Subscribe to newsletter":"Unsubscribe to newsletter"),1),e(v)?(n(),i("p",ve," Be aware of upcoming sales and events. Receive gifts and special offers! ")):(n(),i(g,{key:1},[t("div",G,[t("div",H,[J,u(t("select",{id:"option",name:"option",class:"appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:border-indigo-500 focus:outline-none focus:ring-indigo-500 focus:z-10 sm:text-sm","onUpdate:modelValue":s[0]||(s[0]=o=>e(r).option=o)},[(n(),i(g,null,$(x,o=>t("option",{key:o.value,value:o.value},d(o.label),9,K)),64))],512),[[k,e(r).option]])]),t("div",Q,[Z,u(t("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",class:c([[e(a).email.$error?"border-red-600 focus:border-red-600":"border-gray-300 focus:border-indigo-500"],"appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:z-10 sm:text-sm"]),"onUpdate:modelValue":s[1]||(s[1]=o=>e(r).email=o),onBlur:s[2]||(s[2]=o=>e(a).email.$touch()),placeholder:"Enter email address..."},null,34),[[y,e(r).email]]),e(a).email.$error?(n(),i("span",ee,d(e(a).email.$errors[0].$message),1)):l("",!0)]),e(r).option==="subscribe"?(n(),i("div",te,[se,u(t("select",{id:"salutation",name:"salutation",class:c(["appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:z-10 sm:text-sm",[e(a).salutationId.$error?"border-red-600 focus:border-red-600":"border-gray-300 focus:border-indigo-500"]]),"onUpdate:modelValue":s[3]||(s[3]=o=>e(r).salutationId=o),onBlur:s[4]||(s[4]=o=>e(a).salutationId.$touch())},[oe,(n(!0),i(g,null,$(e(V),o=>(n(),i("option",{key:o.id,value:o.id},d(o.displayName),9,re))),128))],34),[[k,e(r).salutationId]]),e(a).salutationId.$error?(n(),i("span",ae,d(e(a).salutationId.$errors[0].$message),1)):l("",!0)])):l("",!0),e(r).option==="subscribe"?(n(),i("div",ne,[ie,u(t("input",{id:"first-name",name:"first-name",type:"text",autocomplete:"first-name",class:c(["appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:z-10 sm:text-sm",[e(a).firstName.$error?"border-red-600 focus:border-red-600":"border-gray-300 focus:border-indigo-500"]]),onBlur:s[5]||(s[5]=o=>e(a).firstName.$touch()),"onUpdate:modelValue":s[6]||(s[6]=o=>e(r).firstName=o),placeholder:"Enter first name..."},null,34),[[y,e(r).firstName]]),e(a).firstName.$error?(n(),i("span",le,d(e(a).firstName.$errors[0].$message),1)):l("",!0)])):l("",!0),e(r).option==="subscribe"?(n(),i("div",de,[ue,u(t("input",{id:"last-name",name:"last-name",type:"text",autocomplete:"last-name","onUpdate:modelValue":s[7]||(s[7]=o=>e(r).lastName=o),class:c(["appearance-none relative block w-full px-3 py-2 border placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-indigo-500 focus:z-10 sm:text-sm",[e(a).lastName.$error?"border-red-600 focus:border-red-600":"border-gray-300 focus:border-indigo-500"]]),onBlur:s[8]||(s[8]=o=>e(a).lastName.$touch()),placeholder:"Enter last name..."},null,34),[[y,e(r).lastName]]),e(a).lastName.$error?(n(),i("span",ce,d(e(a).lastName.$errors[0].$message),1)):l("",!0)])):l("",!0),t("div",me,[pe,t("div",be,[u(t("input",{id:"privacy",name:"privacy",type:"checkbox","onUpdate:modelValue":s[9]||(s[9]=o=>e(r).checkbox=o),class:c(["mt-1 focus:ring-indigo-500 h-4 w-4 border text-indigo-600 rounded",[e(a).checkbox.$error?"border-red-600":"border-gray-300"]])},null,2),[[T,e(r).checkbox]]),t("div",null,[t("label",{class:c([e(a).checkbox.$error?"text-red-600":""]),for:"privacy"},[D(" I have read the "),fe],2)])])])]),t("div",ge,[t("button",{class:"group relative flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 disabled:opacity-75",type:"submit",disabled:e(b)}," Submit ",8,ye)])],64))],40,O))}});export{he as default};
