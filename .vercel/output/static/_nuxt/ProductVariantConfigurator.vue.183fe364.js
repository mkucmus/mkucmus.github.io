import{a as k,r as w,m as j,O as V,t as B,o as a,j as n,u as r,k as L,F as u,z as m,v as o,y as l,L as P}from"./entry.4f4ac261.js";const R={class:"flex relative"},S={key:0,class:"absolute inset-0 flex items-center justify-end z-10 bg-white/75"},z=o("div",{class:"h-15 w-15 i-carbon-progress-bar-round animate-spin c-gray-500"},null,-1),F=[z],N={class:"text-sm text-gray-900 font-medium"},U={class:"mt-4 flex-1"},$={class:"sr-only"},D={class:"flex"},E=["onClick"],H=["id"],q=k({__name:"ProductVariantConfigurator",props:{allowRedirect:{type:Boolean,default:!1}},emits:["change"],setup(h,{emit:_}){const f=h,i=w(),g=j(),{handleChange:p,getOptionGroups:v,getSelectedOptions:d,findVariantForSelectedOptions:y}=V(),x=B(()=>Object.values(r(d))),b=s=>Object.values(d.value).includes(s),C=async()=>{var e,t;i.value=!0;const s=await y(r(x)),c=(t=(e=s==null?void 0:s.seoUrls)==null?void 0:e[0])==null?void 0:t.seoPathInfo;if(f.allowRedirect&&c)try{g.push("/"+c)}catch{console.error("incorrect URL",c)}else _("change",s);i.value=!1};return(s,c)=>(a(),n("div",R,[r(i)?(a(),n("div",S,F)):L("",!0),(a(!0),n(u,null,m(r(v),e=>(a(),n("div",{key:e.id,class:"mt-6"},[o("h3",N,l(e.name),1),o("fieldset",U,[o("legend",$,"Choose a "+l(e.name),1),o("div",D,[(a(!0),n(u,null,m(e.options,t=>(a(),n("label",{key:t.id,"data-testid":"product-variant",class:P(["group relative border rounded-md py-3 px-4 flex items-center justify-center text-sm font-medium uppercase hover:bg-gray-50 focus:outline-none sm:flex-1 bg-white shadow-sm text-gray-900 cursor-pointer",{"border-3 border-indigo-600":b(t.id)}]),onClick:O=>r(p)(e.name,t.id,C)},[o("p",{id:`${t.id}-choice-label`,"data-testid":"product-variant-text"},l(t.name),9,H)],10,E))),128))])])]))),128))]))}});export{q as _};
